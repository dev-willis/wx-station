@use 'sass:color';
@use 'base' as *;

@import '../icomoon/style';

body{background:no-repeat center; background-size:cover;
	&.morn{background-image:url('/assets/img/bg-morn.jpg');}
	&.eve{background-image:url('/assets/img/bg-eve.jpg');}
	&.night{background-image:url('/assets/img/bg-night.jpg');}
	&.predawn{background-image:url('/assets/img/bg-predawn.jpg');}
	main{height:100vh; overflow:hidden; display:flex; flex-direction:column; background:color.adjust($bk, $alpha:-.75);
		section{width:100%;}
		#wxdata{display:grid; grid-template-columns:repeat(4, 1fr); border:1px solid $bdrclr; position:relative; color:$wh; text-shadow:1px 1px 3px $gr-d;
			article{display:grid; align-items:center; padding:.5em 0; position:relative;}
			span{padding:.3em 0; position:relative; text-align:center; font-weight:bold;
				&::before{font-size:.5em; line-height:0; position:absolute; bottom:.67em; left:50%; font-weight:normal; transform:translateY(.25em); color:$gr-l;}
				&::after{position:absolute;}
			}
			.temp{grid-column:1 / 3; grid-row:1 / 2; grid-template-columns:repeat(3,1fr); border-right:1px solid $bdrclr; border-bottom:1px solid $bdrclr;
				.current{grid-column:1 / 3; grid-row:1 / 3; font-size:4em;
					&::after{content:"\00b0";}
				}
				.min{grid-column:3 / 4; grid-row:2 / 3;
					&::before{content:'low';}
					&::after{content:"\00b0";}
				}
				.max{grid-column:3 / 4; grid-row:1 / 2;
					&::before{content:'high';}
					&::after{content:"\00b0";}
				}
			}
			.air{grid-column:1 / 3; grid-row:2 / 3; grid-template-columns:repeat(3,1fr); border-right:1px solid $bdrclr;
				.pressure{grid-column:1 / 3; grid-row:1 / 3; font-size:3em;
					&::after{content:"inHg"; font-size:.25em; transform:translateY(1em);}
				}
				.dew_point{grid-column:3 / 4; grid-row:1 / 2;
					&::before{content:'dwpt';}
					&::after{content:"\00b0";}
				}
				.humidity{grid-column:3 / 4; grid-row:2 / 3;
					&::before{content:'humidity';}
					&::after{content:"%";}
				}
			}
			.astro{grid-column:3 / 5; display:flex; flex-wrap:wrap; position:relative; border:0;
				&::before{display:block; position:absolute; left:50%; transform:translateX(-50%); width:50%; text-align:center; font-size:.75em; color:$gr-l;}
				span::before{transform:translate(-50%, .67em);}
			}
			.sun{align-items:baseline; padding-top:0;
				&::before{content:'sun'; bottom:calc(.67em - 1px); border-bottom:1px solid $bdrclr;}
				span{flex:1 1 33%;
					small{display:block; line-height:1em; font-size:.67em; font-weight:400;}
				}
				.rise{
					&::before{content:'rise'; bottom:0;}
				}
				.uvi{font-size:1.5em;
					&::before{content:'UV index';}
				}
				.set{
					&::before{content:'set'; bottom:0;}
				}
				.time{position:absolute; bottom:0; left:50%; transform:translate(-50%,calc(50% + 1px));}
			}
			.moon{
				&::before{content:'moon'; top:.67em; border-top:1px solid $bdrclr;}
				span{flex:1 1 33%;
					small{display:block; line-height:1em; font-size:.67em; font-weight:400;}
				}
				.rise{
					&::before{content:'rise'; bottom:0;}
				}
				.phase{font-size:1.25em; margin-top:1em;
					&::before{content:'phase';}
				}
				.set{
					&::before{content:'set'; bottom:0;}
				}

			}
			#as-of{position:absolute; top:0; left:.25em; font-size:.5em; line-height:1em; font-weight:100;}
		}
		#wxchart{grid-column:1 / 4; grid-row:3 / 4; overflow:hidden; flex:1 1 auto;}
		#nfo{padding:.3em; border:1px solid $bdrclr; font-size:.5em; line-height:1.25em; text-align:right;
			&:empty{display:none;}
		}
	}
	.map{position:fixed; top:0; bottom:0;
		canvas{width:100%; height:100%;}
		&#wxmap{z-index:900;}
		&#osmmap{z-index:800;}
	}
}